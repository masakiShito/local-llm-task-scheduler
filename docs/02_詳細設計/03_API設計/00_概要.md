# 詳細設計：API 設計 概要（MVP）

## 1. 本書の目的

本書は、MVP で提供する API の仕様（エンドポイント、Request/Response、バリデーション、エラー）を定義し、実装の基準を統一することを目的とする。

## 2. 前提

- 共通仕様は「詳細設計：01_API 共通仕様.md」に従う
- JSON キーは snake_case とする
- 日時は ISO 8601（オフセット付き）とする
- message_id により UI 表示文言を制御できることを前提とする

## 3. API 一覧（MVP）

| ドメイン | 機能               | Method | Path                      |
| -------- | ------------------ | ------ | ------------------------- |
| Task     | 一覧取得           | GET    | /tasks                    |
| Task     | 新規作成           | POST   | /tasks                    |
| Task     | 取得               | GET    | /tasks/{task_id}          |
| Task     | 更新               | PATCH  | /tasks/{task_id}          |
| Task     | 削除               | DELETE | /tasks/{task_id}          |
| Task     | 完了               | POST   | /tasks/{task_id}/complete |
| Task     | 未完了             | POST   | /tasks/{task_id}/reopen   |
| Event    | 一覧取得（対象日） | GET    | /events?date=YYYY-MM-DD   |
| Event    | 新規作成           | POST   | /events                   |
| Event    | 取得               | GET    | /events/{event_id}        |
| Event    | 更新               | PATCH  | /events/{event_id}        |
| Event    | 削除               | DELETE | /events/{event_id}        |
| Plan     | 一覧取得           | GET    | /plans                    |
| Plan     | 取得               | GET    | /plans/{plan_id}          |
| Plan     | ブロック取得       | GET    | /plans/{plan_id}/blocks   |
| Plan     | 削除               | DELETE | /plans/{plan_id}          |
| Plan     | 生成               | POST   | /plans/generate           |

## 4. 共通仕様への参照

- レスポンス形式：01_API 共通仕様.md 5 章
- エラーフォーマット：01_API 共通仕様.md 6 章
- ステータスコード運用：01_API 共通仕様.md 7 章

## 5. 命名規則

- ID：UUID（文字列）
- パスパラメータ：`{task_id}` / `{event_id}` / `{plan_id}`
- field_errors.field：リクエストのキー（ネストはドット表記）
