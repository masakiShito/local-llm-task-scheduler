# 基本設計書：用語集・定義（MVP）

## 1. 本書の目的

本書は、本システムで使用する用語の定義を統一し、要件定義・基本設計・詳細設計・実装・テストにおける解釈のブレを防止することを目的とする。

---

## 2. 用語集

| 用語           | 英語表記          | 定義                                                                                   | 備考                             |
| -------------- | ----------------- | -------------------------------------------------------------------------------------- | -------------------------------- |
| ユーザー       | User              | 本システムを利用する個人。MVP では単一ユーザーを前提とする。                           | 認証・複数ユーザーは Phase2 以降 |
| タスク         | Task              | スケジュール生成に割り当て対象となる作業項目。                                         | tasks                            |
| Todo           | Todo              | 期限や工数などの計画情報が薄いタスク。                                                 | Task.type=todo                   |
| 計画タスク     | Planned Task      | 期限・工数・開始/終了可能時間などを持つタスク。                                        | Task.type=task                   |
| 固定予定       | Event             | 作業を割り当てられない時間帯を表す予定。会議・外出など。                               | events                           |
| 作業可能時間   | Working Hours     | 対象日に作業を割り当て可能な時間帯の集合。                                             | Plan.params に保持               |
| 計画           | Plan              | 対象日のスケジュール案（生成結果）を保存する単位。                                     | plans                            |
| 計画ブロック   | PlanBlock         | 計画内の時間割の最小単位。作業/休憩/バッファを表現する。                               | plan_blocks                      |
| 作業ブロック   | Work Block        | タスクに紐づく作業時間。PlanBlock.kind=work。                                          | task_id 必須                     |
| 休憩ブロック   | Break Block       | 集中上限超過時などに挿入する休憩時間。PlanBlock.kind=break。                           | task_id は null                  |
| バッファ       | Buffer            | 予定ずれ吸収のために残す予備時間。PlanBlock.kind=buffer。                              | task_id は null                  |
| 溢れ（未割当） | Overflow          | 対象日の空き時間に収まらず計画に割り当てられなかったタスク群。                         | Plan.summary 等に保持            |
| 警告           | Warnings          | 期限に間に合わない可能性、空き時間不足など、ユーザーに注意喚起すべき情報。             | Plan.summary 等に保持            |
| 制約パラメータ | Constraints       | スケジューリング時に使用する制約値の集合。                                             | break/focus/buffer               |
| 休憩時間（分） | break_minutes     | 休憩ブロックとして挿入する分数。                                                       | 例：10                           |
| 集中上限（分） | focus_max_minutes | 連続作業の上限分数。超過する場合は休憩を挿入する。                                     | 例：90                           |
| バッファ比率   | buffer_ratio      | 作業可能時間に対してバッファとして確保する比率。                                       | 例：0.1                          |
| 生成           | Generate          | タスク・固定予定・作業可能時間・制約に基づき、Plan と PlanBlock を作成し保存する処理。 | POST /plans/generate             |
| 提案           | Proposal          | 生成された計画はユーザーにとっての提案であり、確定ではない。                           | UI 文言に反映                    |
| 確定           | Confirmed         | ユーザーが手動で固定した結果を指す。MVP では扱わない。                                 | Phase1.5 以降                    |
| ロック         | Lock              | ユーザーが計画ブロックを固定し、再生成でも維持する機能。MVP では扱わない。             | Phase1.5 以降                    |
| 再生成         | Regenerate        | ロック維持等の条件で計画を再計算する処理。MVP では扱わない。                           | Phase1.5 以降                    |
| LLM 説明       | LLM Summary       | 計画の説明文、順序理由、注意点、溢れタスクの扱い案を JSON で保持する情報。             | Plan.summary                     |

---

## 3. 用語運用ルール

- 仕様書・コード・UI 文言では、本書の用語を優先して使用する
- 「計画」は「提案」であり、「確定」と混同しない
- 「固定予定（Event）」は作業不可時間であり、タスク割当対象ではない

---

## 4. 次工程への引き渡し

- 画面項目定義・API 設計・テスト仕様では、本書の用語を前提として記述する
- UI 文言は「提案」であることを明示する（画面標準仕様に従う）
